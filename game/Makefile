CC	= gcc
CFLAGS	= -std=c99 -Wall -Werror -Wextra -g -pedantic
CLIBS	= -ldl -lpthread -ldatastructures
SOURCES	= $(wildcard *.c)
OBJS	= $(filter-out main.o, $(SOURCES:.c=.o))

%.o : %.c %.h
	@echo "ðŸ”§ File $< needs to be rebuilt"
	-$(CC) $(CFLAGS) -c $< -o $@
	@echo ""

game_server : $(OBJS) main.c
	@echo "â›ï¸ Building game server..."
	$(CC) $(CFLAGS) -o $@ $^ $(CLIBS)

.PHONY: clean
clean:
	@echo "ðŸ—‘ï¸ Removing .o files"
	@$(RM) *.o
